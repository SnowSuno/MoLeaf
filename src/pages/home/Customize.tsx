import React, { useEffect, useState } from "react";
import { Page } from "../../components/layouts/Page";
import { ChevronLeft, ChevronRight } from "../../assets/icons";
import styled from "@emotion/styled";
import { Button, Card } from "../../components/elements";
import { Settings } from "../../assets/icons";
import { Radio } from "../../components/elements";
import { useTranslation } from "react-i18next";

interface Props {
  widgetOrder: string[];
  selected: string;
  setSelected: (selected: string) => void;
}

interface ControllerProps {
  selectedIdx: number;
  widgetNum: number;
  move: (dir: number) => void;
}

const Controller: React.FC<ControllerProps> = ({
  selectedIdx,
  widgetNum,
  move,
}) => {
  return (
    <ControllerContainer>
      {/* <ChevronUp size={36} weight={3} color="var(--dark-text)" /> */}
      {/* <ControllerInnerContainer> */}
      <div
        onClick={() => move(-1)}
        style={selectedIdx == 0 ? { cursor: "not-allowed" } : {}}
      >
        <ChevronLeft
          size={36}
          weight={3}
          color={selectedIdx == 0 ? "var(--gray)" : "var(--dark-text)"}
        />
      </div>
      <div style={{ width: "36px", height: "36px", cursor: "auto" }}></div>
      <div
        onClick={() => move(1)}
        style={selectedIdx >= widgetNum - 1 ? { cursor: "not-allowed" } : {}}
      >
        <ChevronRight
          size={36}
          weight={3}
          color={
            selectedIdx >= widgetNum - 1 ? "var(--gray)" : "var(--dark-text)"
          }
        />
      </div>
      {/* </ControllerInnerContainer> */}
      {/* <ChevronDown size={36} weight={3} color="var(--dark-text)" /> */}
    </ControllerContainer>
  );
};

export const Customize: React.FC = () => {
  const [widgetOrder, setWidgetOrder] = useState<string[]>([]);
  const [selected, setSelected] = useState<string>("");
  const [selectedMain, setSelectedMain] = useState<string>("");

  useEffect(() => {
    const tmpWidgetOrder = localStorage.getItem("widgetOrder")?.split(",");
    if (tmpWidgetOrder) setWidgetOrder(tmpWidgetOrder);

    const tmpMainWidget = localStorage.getItem("mainWidget");
    setSelectedMain(tmpMainWidget ? tmpMainWidget : "");
  }, []);

  const move = (dir: number) => {
    const tmp = widgetOrder.findIndex((x) => x == selected);
    if (tmp + dir >= 0 && tmp + dir <= widgetOrder.length - 1) {
      const newWidgetOrder = widgetOrder;
      if (newWidgetOrder) {
        newWidgetOrder[tmp] = widgetOrder[tmp + dir];
        newWidgetOrder[tmp + dir] = selected;
        setWidgetOrder(newWidgetOrder);
      }
    }
  };

  const save = async () => {
    localStorage.setItem("mainWidget", selectedMain);
    localStorage.setItem("widgetOrder", widgetOrder.toString());
    window.location.href = "/";
  };

  const { t } = useTranslation();

  return (
    <Page title={t(`home.edit`)} background>
      <svg width="390" height="712" viewBox="0 0 390 712" fill="none"
           xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_126_4606)">
          <path
            d="M34.864 357.088V367.912H33.688V357.088H34.864ZM31.516 357.292H32.668V367.408H31.516V362.116H30.148V365.104H25.972V358.276H30.148V361.108H31.516V357.292ZM28.996 359.26H27.124V364.12H28.996V359.26ZM45.5791 364.96H44.3431V357.088H45.5791V364.96ZM42.6031 360.52C42.6031 362.092 41.3671 363.232 39.7351 363.232C38.1031 363.232 36.8551 362.092 36.8551 360.52C36.8551 358.924 38.1031 357.808 39.7351 357.808C41.3671 357.808 42.6031 358.924 42.6031 360.52ZM38.0671 360.52C38.0671 361.504 38.7751 362.164 39.7351 362.164C40.6831 362.164 41.4031 361.504 41.4031 360.52C41.4031 359.512 40.6831 358.876 39.7351 358.876C38.7751 358.876 38.0671 359.512 38.0671 360.52ZM45.8911 366.712V367.72H38.4991V364.168H39.7471V366.712H45.8911ZM58.9057 361.816H51.6337V357.424H52.8577V358.684H57.6817V357.424H58.9057V361.816ZM57.6817 359.632H52.8577V360.844H57.6817V359.632ZM60.1897 362.728V363.724H55.9897V365.656H54.7537V363.724H50.3617V362.728H60.1897ZM52.7977 366.712H59.0977V367.72H51.5617V364.756H52.7977V366.712ZM70.3888 357.076V363.52H69.1528V360.256H66.9568V359.236H69.1528V357.076H70.3888ZM67.1368 363.1C65.9728 362.68 65.1208 361.84 64.6528 360.772C64.1728 361.936 63.2848 362.86 62.0368 363.328L61.3888 362.344C63.0928 361.732 64.0168 360.304 64.0168 358.72V357.64H65.2648V358.792C65.2648 360.208 66.1888 361.564 67.7968 362.14L67.1368 363.1ZM63.0808 364.072H70.3888V367.936H69.1528V365.056H63.0808V364.072ZM84.3754 357.076V367.912H83.1994V362.368H81.9154V367.384H80.7514V357.304H81.9154V361.36H83.1994V357.076H84.3754ZM76.7074 364.324C77.9554 364.312 78.9394 364.252 80.0554 364.024L80.1634 365.044C78.8554 365.296 77.7514 365.344 76.2154 365.344H75.4954V358.372H79.5034V359.38H76.7074V364.324ZM96.1705 359.764V360.784H94.6345V363.592H93.3985V357.076H94.6345V359.764H96.1705ZM91.8265 363.016C90.6625 362.596 89.8105 361.768 89.3425 360.748C88.8625 361.948 87.9745 362.848 86.7265 363.316L86.0665 362.332C87.7705 361.756 88.6945 360.28 88.6945 358.708V357.64H89.9425V358.804C89.9425 360.208 90.8665 361.492 92.4745 362.044L91.8265 363.016ZM91.1425 363.856C93.3985 363.856 94.7545 364.6 94.7545 365.884C94.7545 367.168 93.3985 367.924 91.1425 367.924C88.9105 367.924 87.5305 367.168 87.5305 365.884C87.5305 364.6 88.9105 363.856 91.1425 363.856ZM91.1425 366.952C92.6905 366.952 93.5305 366.604 93.5305 365.884C93.5305 365.212 92.6905 364.828 91.1425 364.828C89.5945 364.828 88.7545 365.212 88.7545 365.884C88.7545 366.604 89.5945 366.952 91.1425 366.952Z"
            fill="#50AA8D"/>
          <path
            d="M106.882 357.903C107.077 357.304 107.924 357.304 108.118 357.903L108.814 360.042C108.856 360.173 108.939 360.286 109.05 360.367C109.161 360.447 109.294 360.491 109.431 360.491H111.681C112.311 360.491 112.573 361.297 112.064 361.667L110.244 362.99C110.132 363.07 110.05 363.184 110.007 363.314C109.965 363.445 109.965 363.586 110.007 363.716L110.703 365.856C110.898 366.455 110.212 366.953 109.702 366.583L107.882 365.261C107.771 365.18 107.637 365.137 107.5 365.137C107.362 365.137 107.229 365.18 107.118 365.261L105.298 366.583C104.788 366.953 104.103 366.455 104.297 365.856L104.993 363.716C105.035 363.586 105.035 363.445 104.993 363.314C104.95 363.184 104.867 363.07 104.756 362.99L102.937 361.668C102.428 361.298 102.69 360.492 103.319 360.492H105.569C105.706 360.492 105.84 360.448 105.951 360.368C106.062 360.287 106.144 360.173 106.187 360.043L106.882 357.903L106.882 357.903Z"
            fill="#50AA8D"/>
        </g>
        <rect x="25" y="381" width="340" height="48" rx="12" fill="white"/>
        <path
          d="M56.344 397.848H57.672V408.36H56.344V402.872H53.464V401.8H56.344V397.848ZM53.656 406.2C52.056 405.624 50.824 404.424 50.2 402.952C49.576 404.616 48.264 405.896 46.584 406.52L45.896 405.496C48.024 404.728 49.512 402.824 49.512 400.792V400.072H46.312V399H53.976V400.072H50.824V400.776C50.824 402.632 52.232 404.456 54.312 405.176L53.656 406.2ZM58.072 411.864H48.488V407.432H49.816V410.792H58.072V411.864ZM72.7588 412.168H71.4948V397.832H72.7588V412.168ZM69.8628 398.168V411.432H68.6148V404.584H66.4228V403.496H68.6148V398.168H69.8628ZM64.7428 402.248C64.7428 404.536 65.8948 406.92 67.8308 407.944L67.0788 408.936C65.6708 408.152 64.6628 406.696 64.1348 404.968C63.6388 406.84 62.6308 408.392 61.2228 409.24L60.4548 408.264C62.3908 407.112 63.4948 404.6 63.4948 402.248V401.56H60.8388V400.472H63.4948V398.344H64.7588V400.472H67.3988V401.56H64.7428V402.248ZM89.9036 404.744V412.184H88.5916V397.848H89.9036V403.656H92.2716V404.744H89.9036ZM83.6796 401.656C83.6796 404.168 85.3276 406.776 87.3276 407.8L86.5116 408.84C84.9756 408.024 83.6796 406.36 83.0396 404.376C82.4156 406.504 81.0876 408.232 79.4716 409.128L78.6876 408.072C80.7516 407 82.3836 404.264 82.3836 401.656V399.08H83.6796V401.656ZM106.558 405.992H93.5664V404.936H96.7824V402.92C95.6144 402.456 95.0224 401.736 95.0224 400.76C95.0224 399.096 96.9584 398.088 100.062 398.088C103.182 398.088 105.102 399.096 105.102 400.76C105.102 401.72 104.462 402.456 103.358 402.904V404.936H106.558V405.992ZM96.3664 400.76C96.3664 401.784 97.7424 402.408 100.062 402.408C102.382 402.408 103.758 401.784 103.758 400.76C103.758 399.72 102.382 399.112 100.062 399.112C97.7424 399.112 96.3664 399.72 96.3664 400.76ZM102.062 404.936V403.256C101.502 403.368 100.83 403.416 100.062 403.416C99.3424 403.416 98.6704 403.368 98.0784 403.256V404.936H102.062ZM100.062 407.064C103.15 407.064 104.974 407.976 104.974 409.624C104.974 411.272 103.15 412.168 100.062 412.168C96.9904 412.168 95.1504 411.272 95.1504 409.624C95.1504 407.976 96.9904 407.064 100.062 407.064ZM100.062 411.16C102.318 411.16 103.646 410.6 103.646 409.624C103.646 408.648 102.318 408.088 100.062 408.088C97.8064 408.088 96.4784 408.648 96.4784 409.624C96.4784 410.6 97.8064 411.16 100.062 411.16ZM123.623 412.216H122.311V397.832H123.623V412.216ZM116.967 401.656C116.967 404.28 118.695 406.936 120.807 407.88L120.023 408.936C118.359 408.12 117.015 406.456 116.327 404.392C115.671 406.584 114.295 408.312 112.615 409.208L111.815 408.136C113.911 407.112 115.671 404.408 115.671 401.656V399.08H116.967V401.656ZM139.862 403.288H137.734V408.328H136.422V397.848H137.734V402.2H139.862V403.288ZM133.894 398.952C133.894 402.664 131.302 405.4 127.158 406.68L126.63 405.64C129.99 404.584 132.23 402.552 132.486 400.024H127.206V398.952H133.894ZM138.358 410.792V411.864H128.79V407.256H130.102V410.792H138.358Z"
          fill="#666666"/>
        <path d="M324 400H342M324 405H342M324 410H342" stroke="#BEC1CB"
              stroke-width="1.5" stroke-linecap="round"/>
        <g clip-path="url(#clip1_126_4606)">
          <path
            d="M34.144 446.816H26.872V442.424H28.096V443.684H32.92V442.424H34.144V446.816ZM32.92 444.632H28.096V445.844H32.92V444.632ZM35.428 447.728V448.724H31.228V450.656H29.992V448.724H25.6V447.728H35.428ZM28.036 451.712H34.336V452.72H26.8V449.756H28.036V451.712ZM45.6271 442.076V448.52H44.3911V445.256H42.1951V444.236H44.3911V442.076H45.6271ZM42.3751 448.1C41.2111 447.68 40.3591 446.84 39.8911 445.772C39.4111 446.936 38.5231 447.86 37.2751 448.328L36.6271 447.344C38.3311 446.732 39.2551 445.304 39.2551 443.72V442.64H40.5031V443.792C40.5031 445.208 41.4271 446.564 43.0351 447.14L42.3751 448.1ZM38.3191 449.072H45.6271V452.936H44.3911V450.056H38.3191V449.072ZM60.4057 447.392H58.7617V452.912H57.5257V442.076H58.7617V446.36H60.4057V447.392ZM55.9657 443.168C55.9657 446.408 55.0177 449.24 51.0817 451.22L50.4097 450.26C52.3297 449.3 53.4457 448.208 54.0817 446.852L50.6497 447.188L50.4817 446.12L54.4537 445.868C54.5977 445.34 54.6937 444.776 54.7417 444.176H51.0337V443.168H55.9657ZM70.1248 448.196H62.6128V443.036H70.0408V444.044H63.8488V447.2H70.1248V448.196ZM71.2408 450.512V451.532H61.4128V450.512H71.2408Z"
            fill="#BEC1CB"/>
        </g>
        <rect x="25" y="466" width="340" height="48" rx="12" fill="white"/>
        <path
          d="M56.984 487.504V491.28H55.672V482.848H56.984V486.416H59.112V487.504H56.984ZM53.528 490.768C51.912 490.208 50.68 489.088 50.056 487.616C49.432 489.216 48.184 490.48 46.456 491.104L45.784 490.048C47.96 489.328 49.368 487.456 49.368 485.408V484.896H46.168V483.824H53.848V484.896H50.696V485.392C50.696 487.296 52.072 489.04 54.168 489.728L53.528 490.768ZM56.984 491.936V496.992H47.976V491.936H56.984ZM55.688 495.936V492.976H49.256V495.936H55.688ZM73.5908 489.936H60.5508V488.88H70.1988C70.5988 487.088 70.6148 485.792 70.6148 484.656H62.2148V483.6H71.9108V484.656C71.9108 485.792 71.9108 487.072 71.5268 488.88H73.5908V489.936ZM71.9588 491.888V496.992H62.1668V491.888H71.9588ZM70.6628 495.936V492.944H63.4468V495.936H70.6628ZM87.4455 497.168H86.1815V489.952H84.3415V496.48H83.1095V483.152H84.3415V488.88H86.1815V482.816H87.4455V497.168ZM82.3895 485.28V486.352H75.2695V485.28H78.1815V483.248H79.4775V485.28H82.3895ZM78.8375 487.312C80.6135 487.312 81.9095 488.656 81.9095 490.576C81.9095 492.528 80.6135 493.856 78.8375 493.856C77.0615 493.856 75.7655 492.528 75.7655 490.576C75.7655 488.656 77.0615 487.312 78.8375 487.312ZM78.8375 492.768C79.9415 492.768 80.7415 491.856 80.7415 490.576C80.7415 489.328 79.9415 488.416 78.8375 488.416C77.6855 488.416 76.9335 489.296 76.9335 490.576C76.9335 491.856 77.7335 492.768 78.8375 492.768ZM102.196 497.168H100.932V482.816H102.196V497.168ZM99.3003 483.152V496.432H98.0523V489.056H95.6843V487.984H98.0523V483.152H99.3003ZM94.2123 486.88C94.2123 489.376 95.2843 491.872 97.2683 492.992L96.4683 493.952C95.0603 493.12 94.0843 491.632 93.5883 489.76C93.0923 491.76 92.0523 493.408 90.6283 494.304L89.8283 493.328C91.8443 492.128 92.9483 489.52 92.9483 486.88V485.584H90.2283V484.512H96.7723V485.584H94.2123V486.88ZM108.845 485.104V484.112H112.381V482.752H113.693V484.112H117.245V485.104H108.845ZM118.733 493.376V482.848H120.045V493.376H118.733ZM117.677 491.472C114.573 491.984 111.133 492.032 108.557 492.032L108.365 490.992C109.581 490.992 110.957 490.992 112.381 490.944V489.824C110.701 489.648 109.645 488.912 109.645 487.76C109.645 486.48 111.005 485.68 113.037 485.68C115.085 485.68 116.461 486.48 116.461 487.76C116.461 488.912 115.421 489.648 113.693 489.824V490.896C115.037 490.832 116.317 490.736 117.597 490.56L117.677 491.472ZM110.877 487.76C110.877 488.48 111.741 488.944 113.037 488.944C114.381 488.944 115.213 488.48 115.213 487.76C115.213 487.04 114.381 486.592 113.037 486.592C111.741 486.592 110.877 487.04 110.877 487.76ZM115.933 492.864C115.933 494.56 118.109 495.824 120.717 496.128L120.253 497.136C118.077 496.832 116.141 495.936 115.277 494.512C114.381 495.936 112.525 496.832 110.285 497.136L109.837 496.128C112.461 495.824 114.605 494.56 114.605 492.864V492.688H115.933V492.864ZM134.828 489.36C132.588 488.976 130.46 487.744 129.516 486C128.62 487.744 126.444 488.976 124.22 489.36L123.692 488.304C126.316 487.92 128.828 486.208 128.828 484.144V483.344H130.204V484.144C130.204 486.144 132.764 487.92 135.372 488.304L134.828 489.36ZM130.14 492V497.2H128.828V492H123.036V490.912H135.996L136.012 492H130.14Z"
          fill="#666666"/>
        <path d="M324 485H342M324 490H342M324 495H342" stroke="#BEC1CB"
              stroke-width="1.5" stroke-linecap="round"/>
        <rect x="25" y="525" width="340" height="48" rx="12" fill="white"/>
        <path
          d="M56.888 548.584V556.216H55.576V541.832H56.888V547.496H59.256V548.584H56.888ZM47.768 551.512C50.328 551.512 52.168 551.416 54.232 551.032L54.376 552.12C52.2 552.552 50.28 552.632 47.592 552.632H46.456V543.208H53.128V544.296H47.768V551.512ZM67.0468 547.96C64.0228 547.96 62.0228 546.856 62.0228 545.08C62.0228 543.304 64.0228 542.2 67.0468 542.2C70.0708 542.2 72.0708 543.304 72.0708 545.08C72.0708 546.856 70.0708 547.96 67.0468 547.96ZM67.0468 543.256C64.8708 543.256 63.3988 543.944 63.3988 545.08C63.3988 546.184 64.8708 546.888 67.0468 546.888C69.2708 546.888 70.6948 546.184 70.6948 545.08C70.6948 543.928 69.2868 543.256 67.0468 543.256ZM73.5588 550.184H67.8308V553.08H66.5028V550.184H60.5508V549.112H73.5588V550.184ZM72.1348 554.776V555.864H62.2148V551.672H63.5268V554.776H72.1348ZM89.9036 548.696V556.168H88.5916V541.832H89.9036V547.592H92.2716V548.696H89.9036ZM80.7996 551.656C83.3596 551.656 85.1036 551.528 87.2476 551.192L87.3756 552.248C85.1676 552.632 83.3116 552.728 80.6076 552.728H79.4876V543.128H86.1756V544.2H80.7996V547.16H85.8556V548.216H80.7996V551.656ZM105.358 550.056H104.046V541.848H105.358V550.056ZM97.6464 542.6C99.8224 542.6 101.406 543.96 101.406 545.944C101.406 547.928 99.8224 549.288 97.6464 549.288C95.4864 549.288 93.9184 547.928 93.9184 545.944C93.9184 543.96 95.4864 542.6 97.6464 542.6ZM97.6464 543.688C96.2224 543.688 95.1984 544.616 95.1984 545.944C95.1984 547.272 96.2224 548.2 97.6464 548.2C99.1024 548.2 100.126 547.272 100.126 545.944C100.126 544.616 99.1024 543.688 97.6464 543.688ZM105.358 555.992H96.0784V550.824H105.358V555.992ZM97.3584 554.936H104.078V551.864H97.3584V554.936Z"
          fill="#666666"/>
        <path d="M324 544H342M324 549H342M324 554H342" stroke="#BEC1CB"
              stroke-width="1.5" stroke-linecap="round"/>
        <rect x="25" y="584" width="340" height="48" rx="12" fill="white"/>
        <path
          d="M57.544 615.2H56.232V600.832H57.544V615.2ZM46.36 607.872C48.488 607.232 49.912 605.632 49.96 603.76H46.696V602.704H49.96V600.944H51.272V602.704H54.584V603.76H51.272C51.32 605.6 52.792 607.088 54.904 607.728L54.296 608.736C52.568 608.224 51.288 607.136 50.632 605.712C50.008 607.248 48.696 608.336 46.968 608.896L46.36 607.872ZM51.272 611.024C52.616 610.944 54.008 610.848 55.288 610.64L55.4 611.616C52.184 612.208 48.664 612.24 46.104 612.24L45.928 611.136C47.144 611.136 48.488 611.136 49.96 611.088V608.416H51.272V611.024ZM72.7588 615.184H71.4948V607.664H69.4628V614.464H68.2308V601.152H69.4628V606.592H71.4948V600.832H72.7588V615.184ZM62.3748 610.56C64.2788 610.56 65.6708 610.464 67.2228 610.128L67.3348 611.216C65.6388 611.6 64.1508 611.648 62.0228 611.648H61.0788V602.576H66.4228V603.648H62.3748V610.56ZM89.9036 607.744V615.184H88.5916V600.848H89.9036V606.656H92.2716V607.744H89.9036ZM83.6796 604.656C83.6796 607.168 85.3276 609.776 87.3276 610.8L86.5116 611.84C84.9756 611.024 83.6796 609.36 83.0396 607.376C82.4156 609.504 81.0876 611.232 79.4716 612.128L78.6876 611.072C80.7516 610 82.3836 607.264 82.3836 604.656V602.08H83.6796V604.656ZM106.558 608.992H93.5664V607.936H96.7824V605.92C95.6144 605.456 95.0224 604.736 95.0224 603.76C95.0224 602.096 96.9584 601.088 100.062 601.088C103.182 601.088 105.102 602.096 105.102 603.76C105.102 604.72 104.462 605.456 103.358 605.904V607.936H106.558V608.992ZM96.3664 603.76C96.3664 604.784 97.7424 605.408 100.062 605.408C102.382 605.408 103.758 604.784 103.758 603.76C103.758 602.72 102.382 602.112 100.062 602.112C97.7424 602.112 96.3664 602.72 96.3664 603.76ZM102.062 607.936V606.256C101.502 606.368 100.83 606.416 100.062 606.416C99.3424 606.416 98.6704 606.368 98.0784 606.256V607.936H102.062ZM100.062 610.064C103.15 610.064 104.974 610.976 104.974 612.624C104.974 614.272 103.15 615.168 100.062 615.168C96.9904 615.168 95.1504 614.272 95.1504 612.624C95.1504 610.976 96.9904 610.064 100.062 610.064ZM100.062 614.16C102.318 614.16 103.646 613.6 103.646 612.624C103.646 611.648 102.318 611.088 100.062 611.088C97.8064 611.088 96.4784 611.648 96.4784 612.624C96.4784 613.6 97.8064 614.16 100.062 614.16ZM123.623 615.216H122.311V600.832H123.623V615.216ZM116.967 604.656C116.967 607.28 118.695 609.936 120.807 610.88L120.023 611.936C118.359 611.12 117.015 609.456 116.327 607.392C115.671 609.584 114.295 611.312 112.615 612.208L111.815 611.136C113.911 610.112 115.671 607.408 115.671 604.656V602.08H116.967V604.656ZM139.862 606.288H137.734V611.328H136.422V600.848H137.734V605.2H139.862V606.288ZM133.894 601.952C133.894 605.664 131.302 608.4 127.158 609.68L126.63 608.64C129.99 607.584 132.23 605.552 132.486 603.024H127.206V601.952H133.894ZM138.358 613.792V614.864H128.79V610.256H130.102V613.792H138.358Z"
          fill="#666666"/>
        <path d="M324 603H342M324 608H342M324 613H342" stroke="#BEC1CB"
              stroke-width="1.5" stroke-linecap="round"/>
        <rect x="25" y="643" width="340" height="48" rx="12" fill="white"/>
        <path
          d="M53.976 666.04V664.968H56.344V663.464H53.976V662.392H56.344V659.848H57.672V668.68H56.344V666.04H53.976ZM54.36 667.352C51.592 667.784 48.36 667.832 46.04 667.832L45.896 666.744H46.776C47.08 666.744 47.384 666.744 47.704 666.728V661.976H46.28V660.92H53.832V661.976H52.408V666.568C53.048 666.52 53.688 666.456 54.28 666.376L54.36 667.352ZM48.968 666.712C49.672 666.696 50.408 666.68 51.128 666.632V661.976H48.968V666.712ZM52.936 668.984C55.896 668.984 57.704 669.896 57.704 671.56C57.704 673.224 55.896 674.168 52.936 674.168C49.912 674.168 48.152 673.224 48.152 671.56C48.152 669.896 49.912 668.984 52.936 668.984ZM52.936 673.144C55.128 673.144 56.408 672.584 56.408 671.56C56.408 670.584 55.128 669.992 52.936 669.992C50.744 669.992 49.464 670.584 49.464 671.56C49.464 672.584 50.744 673.144 52.936 673.144ZM73.5908 667.064H69.9748V670.52H68.6948V667.064H66.1668V670.52H64.8868V667.064H60.5668V665.992H70.2628C70.6308 664.184 70.6148 662.856 70.6148 661.688V661.672H62.1988V660.6H71.9108V661.688C71.9108 662.856 71.9108 664.2 71.5748 665.992H73.5908V667.064ZM72.2948 672.792V673.864H62.1508V669.368H63.4468V672.792H72.2948ZM89.9036 666.744V674.184H88.5916V659.848H89.9036V665.656H92.2716V666.744H89.9036ZM83.6796 663.656C83.6796 666.168 85.3276 668.776 87.3276 669.8L86.5116 670.84C84.9756 670.024 83.6796 668.36 83.0396 666.376C82.4156 668.504 81.0876 670.232 79.4716 671.128L78.6876 670.072C80.7516 669 82.3836 666.264 82.3836 663.656V661.08H83.6796V663.656ZM106.558 667.992H93.5664V666.936H96.7824V664.92C95.6144 664.456 95.0224 663.736 95.0224 662.76C95.0224 661.096 96.9584 660.088 100.062 660.088C103.182 660.088 105.102 661.096 105.102 662.76C105.102 663.72 104.462 664.456 103.358 664.904V666.936H106.558V667.992ZM96.3664 662.76C96.3664 663.784 97.7424 664.408 100.062 664.408C102.382 664.408 103.758 663.784 103.758 662.76C103.758 661.72 102.382 661.112 100.062 661.112C97.7424 661.112 96.3664 661.72 96.3664 662.76ZM102.062 666.936V665.256C101.502 665.368 100.83 665.416 100.062 665.416C99.3424 665.416 98.6704 665.368 98.0784 665.256V666.936H102.062ZM100.062 669.064C103.15 669.064 104.974 669.976 104.974 671.624C104.974 673.272 103.15 674.168 100.062 674.168C96.9904 674.168 95.1504 673.272 95.1504 671.624C95.1504 669.976 96.9904 669.064 100.062 669.064ZM100.062 673.16C102.318 673.16 103.646 672.6 103.646 671.624C103.646 670.648 102.318 670.088 100.062 670.088C97.8064 670.088 96.4784 670.648 96.4784 671.624C96.4784 672.6 97.8064 673.16 100.062 673.16ZM123.623 674.216H122.311V659.832H123.623V674.216ZM116.967 663.656C116.967 666.28 118.695 668.936 120.807 669.88L120.023 670.936C118.359 670.12 117.015 668.456 116.327 666.392C115.671 668.584 114.295 670.312 112.615 671.208L111.815 670.136C113.911 669.112 115.671 666.408 115.671 663.656V661.08H116.967V663.656ZM139.862 665.288H137.734V670.328H136.422V659.848H137.734V664.2H139.862V665.288ZM133.894 660.952C133.894 664.664 131.302 667.4 127.158 668.68L126.63 667.64C129.99 666.584 132.23 664.552 132.486 662.024H127.206V660.952H133.894ZM138.358 672.792V673.864H128.79V669.256H130.102V672.792H138.358Z"
          fill="#666666"/>
        <path d="M324 662H342M324 667H342M324 672H342" stroke="#BEC1CB"
              stroke-width="1.5" stroke-linecap="round"/>
        <path
          d="M74 24C74 10.7452 84.7452 0 98 0H291C304.255 0 315 10.7452 315 24V324H74V24Z"
          fill="url(#paint0_linear_126_4606)"/>
        <rect x="91.4106" y="25" width="207.095" height="120" rx="16"
              fill="#E6E7EB"/>
        <path
          d="M91.4106 172C91.4106 163.163 98.5741 156 107.411 156H149.635C158.472 156 165.635 163.163 165.635 172V231C165.635 239.837 158.472 247 149.635 247H107.411C98.5741 247 91.4106 239.837 91.4106 231V172Z"
          fill="#E6E7EB"/>
        <path
          d="M176.631 172C176.631 163.163 183.795 156 192.631 156H234.856C243.692 156 250.855 163.163 250.855 172V231C250.855 239.837 243.692 247 234.855 247H192.631C183.795 247 176.631 239.837 176.631 231V172Z"
          fill="#E6E7EB"/>
        <path
          d="M261.852 172C261.852 163.163 269.015 156 277.852 156H315V247H277.852C269.015 247 261.852 239.837 261.852 231V172Z"
          fill="#E6E7EB"/>
        <path
          d="M115.311 40.6588C115.686 39.5076 117.315 39.5076 117.689 40.6588L119.026 44.7738C119.108 45.0245 119.267 45.2428 119.48 45.3977C119.693 45.5526 119.95 45.6362 120.214 45.6363H124.541C125.753 45.6363 126.255 47.1863 125.276 47.8988L121.776 50.4413C121.563 50.5964 121.403 50.8151 121.322 51.0662C121.24 51.3172 121.24 51.5877 121.321 51.8388L122.659 55.9538C123.034 57.1051 121.715 58.0638 120.734 57.3513L117.234 54.8088C117.02 54.6539 116.763 54.5704 116.499 54.5704C116.236 54.5704 115.979 54.6539 115.765 54.8088L112.265 57.3513C111.285 58.0638 109.968 57.1051 110.341 55.9538L111.679 51.8388C111.76 51.5877 111.76 51.3172 111.678 51.0662C111.597 50.8151 111.437 50.5964 111.224 50.4413L107.725 47.9001C106.746 47.1876 107.25 45.6376 108.46 45.6376H112.786C113.05 45.6377 113.307 45.5543 113.521 45.3993C113.734 45.2444 113.893 45.0259 113.975 44.7751L115.313 40.6601L115.311 40.6588Z"
          fill="#50AA8D"/>
        <path
          d="M27.24 314.12V306.856H37.496V308.568H29.352V312.44H37.608V314.12H27.24ZM39.032 318.616H25.688V316.888H39.032V318.616ZM53.0468 320.36H51.0468V312.888H49.7188V319.672H47.7508V305.896H49.7188V311.192H51.0468V305.624H53.0468V320.36ZM42.8548 315.384C44.1988 315.336 45.4788 315.288 46.9508 315.048L47.1108 316.76C45.2068 317.064 43.6228 317.112 41.8468 317.112H40.8068V311.112H44.3268V308.76H40.7908V307.064H46.3588V312.776H42.8548V315.384ZM56.5015 308.68V307H66.8215V308.744C66.8215 310.808 66.8375 312.824 66.2775 315.848L64.1815 315.656C64.6935 312.84 64.7095 310.744 64.7095 308.744V308.68H56.5015ZM68.4535 318.456H55.1255V316.728H68.4535V318.456ZM82.4843 320.36H80.4843V313.336H79.3643V319.752H77.3963V305.912H79.3643V311.64H80.4843V305.624H82.4843V320.36ZM76.8683 307.864V309.544H69.8283V307.864H72.3403V306.04H74.4203V307.864H76.8683ZM73.3802 310.184C75.2523 310.184 76.6123 311.64 76.6123 313.704C76.6123 315.752 75.2523 317.208 73.3802 317.208C71.5082 317.208 70.1483 315.752 70.1483 313.704C70.1483 311.64 71.5082 310.184 73.3802 310.184ZM73.3802 315.448C74.1963 315.448 74.7563 314.808 74.7563 313.704C74.7563 312.6 74.1963 311.944 73.3802 311.944C72.5643 311.944 72.0043 312.6 72.0043 313.704C72.0043 314.808 72.5643 315.448 73.3802 315.448ZM96.931 320.408H94.819V311.944H91.987V310.248H94.819V305.624H96.931V320.408ZM90.099 308.904C90.099 311.672 91.171 314.408 93.603 315.48L92.355 317.16C90.739 316.376 89.683 314.968 89.059 313.16C88.419 315.096 87.331 316.584 85.667 317.416L84.355 315.72C86.867 314.568 87.971 311.704 87.971 308.904V306.776H90.099V308.904ZM114.763 312.04C112.251 311.656 110.539 310.536 109.579 309.048C108.619 310.584 106.875 311.688 104.363 312.088L103.579 310.424C106.827 309.992 108.475 308.136 108.475 306.488V306.024H110.651V306.488C110.651 308.088 112.315 309.96 115.563 310.392L114.763 312.04ZM116.251 314.552H110.811V317.064H108.699V314.552H102.891V312.888H116.251V314.552ZM114.763 318.44V320.12H104.443V315.816H106.555V318.44H114.763ZM129.994 320.408H127.882V311.944H125.05V310.248H127.882V305.624H129.994V320.408ZM123.162 308.904C123.162 311.672 124.234 314.408 126.666 315.48L125.418 317.16C123.802 316.376 122.746 314.968 122.122 313.16C121.482 315.096 120.394 316.584 118.73 317.416L117.418 315.72C119.93 314.568 121.034 311.704 121.034 308.904V306.776H123.162V308.904ZM136.593 314.232V306.616H138.689V308.856H141.489V306.616H143.553V308.088H146.177V305.64H148.289V316.52H146.177V312.936H143.553V314.232H136.593ZM143.553 311.256H146.177V309.784H143.553V311.256ZM138.689 310.472V312.552H141.489V310.472H138.689ZM148.609 320.12H138.561V315.464H140.673V318.44H148.609V320.12ZM157.84 309.656C156.928 311.96 154.864 313.56 151.616 314.472L150.8 312.808C154.176 311.912 155.776 310.328 156.048 308.328H151.6V306.632H158.352C158.352 307.096 158.32 307.544 158.256 307.976H160.896V305.64H163.008V314.12H160.896V312.712H157.648V311.016H160.896V309.656H157.84ZM158.144 314.312C161.152 314.312 163.104 315.464 163.104 317.304C163.104 319.144 161.152 320.296 158.144 320.296C155.136 320.296 153.168 319.144 153.168 317.304C153.168 315.464 155.136 314.312 158.144 314.312ZM158.144 318.664C159.952 318.664 161.024 318.2 161.024 317.304C161.024 316.408 159.952 315.944 158.144 315.944C156.272 315.944 155.248 316.408 155.248 317.304C155.248 318.2 156.272 318.664 158.144 318.664Z"
          fill="#252525"/>
        <path
          d="M31.456 335.244C30.244 334.848 29.308 334.02 28.84 333C28.372 334.164 27.412 335.088 26.152 335.52L25.66 334.752C27.256 334.236 28.324 332.88 28.324 331.416V331.176H25.936V330.396H28.324V329.088H29.308V330.396H31.684V331.176H29.308V331.416C29.308 332.736 30.364 333.996 31.936 334.476L31.456 335.244ZM33.52 329.124H34.504V336.576H33.52V332.976H31.372V332.172H33.52V329.124ZM31.54 336.084C31.54 337.584 33.232 338.748 35.152 339.072L34.768 339.84C33.136 339.552 31.672 338.712 31.036 337.476C30.364 338.688 28.936 339.552 27.304 339.84L26.908 339.072C28.816 338.748 30.532 337.536 30.532 336.084V335.856H31.54V336.084ZM47.6387 334.308V339.888H46.6547V329.124H47.6387V333.492H49.3667V334.308H47.6387ZM44.9027 330.24C44.9027 333.36 43.8347 336.204 39.9947 338.124L39.4547 337.368C41.4587 336.372 42.6227 335.172 43.2947 333.72L39.6707 334.068L39.5027 333.204L43.5947 332.928C43.7747 332.328 43.8827 331.704 43.9187 331.044H40.0427V330.24H44.9027ZM51.6337 335.088V330.108H58.9177V330.924H52.6057V334.284H59.0257V335.088H51.6337ZM60.1537 338.436H50.3857V337.62H60.1537V338.436ZM62.7448 333.168V329.52H63.7288V332.364H70.0648V333.168H62.7448ZM71.1808 335.4H61.4248V334.608H71.1808V335.4ZM70.1248 338.82V339.624H62.6728V336.48H63.6568V338.82H70.1248ZM82.7194 333.204C82.7314 332.928 82.7434 332.64 82.7434 332.364V331.02H76.3234V330.216H83.7034V331.536C83.7034 333.108 83.7154 334.584 83.2354 336.792L82.2754 336.696C82.5034 335.64 82.6234 334.776 82.6834 333.948L76.1914 334.308L76.0474 333.492L82.7194 333.204ZM84.9034 338.388H75.1714V337.584H84.9034V338.388ZM95.3425 339.888H94.4065V329.124H95.3425V339.888ZM93.0985 329.412V339.348H92.1625V334.32H89.9545C89.2825 335.568 88.2865 336.66 86.7865 337.572L86.2105 336.864C88.5265 335.472 89.6665 333.564 89.8465 331.296H86.6665V330.492H90.8185C90.8185 331.548 90.6745 332.568 90.3025 333.528H92.1625V329.412H93.0985ZM109.677 338.58H99.9092V337.776H102.621V335.22H100.809V334.428H102.453V330.912H100.785V330.12H108.765V330.912H107.097V334.428H108.753V335.22H106.929V337.776H109.677V338.58ZM106.113 334.428V330.912H103.437V334.428H106.113ZM105.945 337.776V335.22H103.605V337.776H105.945ZM119.768 339.912H118.784V329.124H119.768V339.912ZM114.776 331.992C114.776 333.96 116.072 335.952 117.656 336.66L117.068 337.452C115.82 336.84 114.812 335.592 114.296 334.044C113.804 335.688 112.772 336.984 111.512 337.656L110.912 336.852C112.484 336.084 113.804 334.056 113.804 331.992V330.06H114.776V331.992ZM130.831 335.328H129.847V329.136H130.831V335.328ZM129.031 334.62C126.691 335.004 124.111 335.064 122.179 335.064L122.035 334.272C122.947 334.272 123.967 334.272 125.071 334.224V333.072H123.007V329.664H128.071V330.468H123.979V332.268H128.179V333.072H126.055V334.188C127.063 334.128 128.011 334.056 128.971 333.912L129.031 334.62ZM130.831 335.808V339.744H123.775V335.808H124.759V336.936H129.859V335.808H130.831ZM124.759 337.704V338.952H129.859V337.704H124.759ZM141.858 339.876H140.874V329.124H141.858V339.876ZM134.694 336.264C136.338 336.264 137.982 336.132 139.77 335.76L139.878 336.6C137.994 336.984 136.326 337.104 134.598 337.104H133.71V330.168H134.694V336.264ZM152.357 334.188V339.912H151.373V329.124H152.357V333.372H154.133V334.188H152.357ZM145.517 336.384C147.437 336.384 148.817 336.312 150.365 336.024L150.473 336.84C148.841 337.164 147.401 337.224 145.385 337.224H144.533V330.156H149.537V330.972H145.517V336.384Z"
          fill="#BEC1CB"/>
        <defs>
          <linearGradient id="paint0_linear_126_4606" x1="194.5" y1="0"
                          x2="194.5" y2="324" gradientUnits="userSpaceOnUse">
            <stop offset="0.822917" stop-color="white"/>
            <stop offset="1" stop-color="#E6E7EB" stop-opacity="0"/>
          </linearGradient>
          <clipPath id="clip0_126_4606">
            <rect width="89" height="15" fill="white"
                  transform="translate(25 355)"/>
          </clipPath>
          <clipPath id="clip1_126_4606">
            <rect width="47" height="15" fill="white"
                  transform="translate(25 440)"/>
          </clipPath>
        </defs>
      </svg>

    </Page>
  );
};

const Container = styled.div`
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 24px;
  margin: 0 auto;
`;

const ExpandedWidget = styled(Card)`
  display: flex;
  flex-direction: column;
  gap: 16px;
`;

const WidgetContainer = styled.div`
  display: flex;
  flex-direction: row;
  gap: 16px;
  overflow-x: scroll;
`;

const ControllerContainer = styled.div`
  position: absolute;
  bottom: 0;
  width: 100%;
  align-items: center;
  padding: 24px;
  display: flex;
  flex-direction: row;
  justify-content: center;

  & * {
    cursor: pointer;
  }
`;
